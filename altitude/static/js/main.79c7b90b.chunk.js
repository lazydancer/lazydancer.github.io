(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{305:function(e,t,n){e.exports=n(678)},316:function(e,t){},318:function(e,t){},352:function(e,t){},353:function(e,t){},674:function(e,t,n){},676:function(e,t,n){},678:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(29),c=n(78),i=n(35),l=n(704),u=n(679),d=n(705),s=n(706),E=n(24),p=n(94),m=function(e,t,n,a){return{type:"UPDATE_EVENT",id:e,project:t,start:n,end:a}},f=function(e,t){return{type:"COPY_DAY",from:e,to:t}},v=n(103),j=n.n(v),O=n(295),b=n.n(O),g=n(296),h=n.n(g),D=(n(596),n(598),n(691)),y=n(693),T=Object(i.b)(function(e,t){return{label:t.label,onNavigate:t.onNavigate,date:t.date}},function(e){return{copyToToday:function(t){return e(f(t,new Date))}}})(function(e){var t=e.label,n=e.onNavigate,a=e.date,o=e.copyToToday;return r.a.createElement("div",{className:"rbc-toolbar"},r.a.createElement(D.a,{width:220},t),r.a.createElement(y.a,{appearance:"minimal",icon:"caret-left",onClick:function(){return n("PREV")}}),r.a.createElement(y.a,{appearance:"minimal",icon:"caret-right",onClick:function(){return n("NEXT")}}),r.a.createElement(y.a,{appearance:"minimal",icon:"duplicate",tooltip:"copy to today",onClick:function(){return o(a)}}))}),_=b()(j.a),w=j.a.momentLocalizer(h.a),C={timeGutterFormat:"HH"},P=function(e,t,n,a){return{style:{backgroundColor:e.color}}},L=function(e){e.copyToToday;var t=e.events,n=e.newEventModal,a=e.moveEvent,o=(e.selectEvent,e.selectEventModal);return r.a.createElement("div",null,r.a.createElement(u.a,{padding:16,flex:"1"},r.a.createElement(_,{selectable:!0,localizer:w,formats:C,events:t,onEventDrop:a,resizable:!0,step:60,timeslots:1,onEventResize:a,onSelectSlot:n,views:["day"],onSelectEvent:o,defaultDate:new Date,defaultView:j.a.Views.DAY,components:{toolbar:T},eventPropGetter:P})))},N=Object(i.b)(function(e){var t=[];for(var n in e.events){var a=e.projects[e.events[n].project];a?t.push(Object(E.a)({},e.events[n],{id:n,title:a.title,color:a.color})):t.push(Object(E.a)({},e.events[n],{id:n}))}return{events:t}},function(e){return{newEventModal:function(t){var n,a;e((n=t.start,a=t.end,{type:"SHOW_MODAL",modalType:"NEW_EVENT_SELECT",modalProps:{id:Object(p.v4)(),start:n,end:a}}))},moveEvent:function(t){var n=t.event,a=t.start,r=t.end;e(m(n.id,n.project,a,r))},selectEventModal:function(t){var n=t.id;e(function(e){return{type:"SHOW_MODAL",modalType:"SELECT_EVENT",modalProps:{id:e}}}(n))},copyToToday:function(t){e(f(t,new Date))}}})(L),A=n(694),M=n(695),S=n(696),k=n(697),R=n(680),V=n(703),H=n(681),B=n(582),U=n(698),x={NEUTRAL:"#425A70",BLUE:"#1070CA",RED:"#EC4C47",ORANGE:"#D9822B",YELLOW:"#F7D154",GREEN:"#47B881",TEAL:"#14B5D0",PURPLE:"#735DD0"},J=function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()},Y=function(e){var t=e.project,n=e.totalHours,a=e.updateProjectName,o=e.deleteProject,c=e.daysChart,i=(e.projectList,e.updateColor);return r.a.createElement(u.a,{padding:20},r.a.createElement(D.a,{size:900,color:t.color},t.title),r.a.createElement(A.a,{marginBottom:20},r.a.createElement(M.a,null,n)," hours"),r.a.createElement(V.a,{width:300,height:80,data:c},r.a.createElement(H.a,{dataKey:"hours",onClick:function(){return alert("Hi!")}},c.map(function(e,n){return r.a.createElement(B.a,{cursor:"pointer",fill:t.color,key:"cell-".concat(n)})}))),r.a.createElement(S.a,{label:"Change Project Name",placeholder:t.title,marginTop:20,onChange:function(e){return a(t.id,e.target.value)}}),r.a.createElement(k.a,{label:"Color",onChange:function(e){return i(t.id,e.target.value)},value:t.color},Object.keys(x).map(function(e){return r.a.createElement("option",{key:e,value:x[e]},e)})),r.a.createElement(R.a,{appearance:"minimal",is:U.a,to:"/",marginRight:12,iconBefore:"trash",intent:"danger",onClick:function(){return o(t.id)}},"Delete Project"))},I=Object(i.b)(function(e,t){var n=t.match.params.projectKey,a=[];for(var r in e.events)e.events[r].project===n&&a.push(Object(E.a)({},e.events[r],{id:r}));for(var o=a.map(function(e){return Object(E.a)({},e,{duration:Math.round((e.end-e.start)/36e5)})}),c=[],i=function(e){var t=new Date(Date.now()-864e5*e),n=o.filter(function(e){return J(t,e.start)}).reduce(function(e,t){return e+t.duration},0);c.push({date:t,hours:n})},l=0;l<30;l++)i(l);c=c.reverse();var u=o.reduce(function(e,t){return e+t.duration},0),d=[];for(var s in e.projects)s!==n&&d.push(Object(E.a)({},e.projects[s],{id:s}));return{project:e.projects[n],totalHours:u,daysChart:c,projectList:d}},function(e){return{updateColor:function(t,n){return e(function(e,t){return{type:"UPDATE_COLOR",id:e,color:t}}(t,n))},updateProjectName:function(t,n){return e(function(e,t){return{type:"UPDATE_NAME",id:e,title:t}}(t,n))},deleteProject:function(t){return e({type:"DELETE_PROJECT",id:t})}}})(Y),W=function(){return r.a.createElement("main",null,r.a.createElement(d.a,null,r.a.createElement(s.a,{exact:!0,path:"/",component:N}),r.a.createElement(s.a,{path:"/project/:projectKey",component:I})))},z=n(699),F=n(708),X=n(707),G=Object(i.b)(function(e){var t=[];for(var n in e.projects)t.push(e.projects[n]);return{projectList:function(e){var t=[],n=[];for(var a in e){var r=e[a];r.subProjects&&(n.push(a),n=n.concat(r.subProjects)),t.push(a)}var o=t.filter(function(e){return n.indexOf(e)<0}).concat(n).map(function(t){var n=e[t];return n.id=t,n});return console.log(o),o}(e.projects)}},function(e){return{newProjectModal:function(){return e({type:"SHOW_MODAL",modalType:"NEW_PROJECT",modalProps:{}})}}})(function(e){var t=e.projectList,n=e.newProjectModal;return r.a.createElement(u.a,{background:"tint2",position:"fixed",width:200,height:"100%"},r.a.createElement(z.a,{width:200,padding:20,marginBottom:16},r.a.createElement(F.a,{key:"Today",is:U.a,to:"/",id:"Today",marginBottom:30},r.a.createElement(X.a,{icon:"star",marginRight:10,marginBottom:-3}),"Today"),t.map(function(e,t){return r.a.createElement(F.a,{key:t,is:U.a,to:"/project/"+e.id,id:e.id,marginTop:e.subProjects?20:0},r.a.createElement(X.a,{icon:e.subProjects?"box":"symbol-circle",size:e.subProjects?14:10,marginRight:6,marginBottom:-1}),e.title)}),r.a.createElement(F.a,{marginTop:30,onClick:function(){return n()}},r.a.createElement(X.a,{icon:"add",marginRight:10,marginBottom:-3}),"Add Project")))}),K=n(709),q=n(702),Q=Object(i.b)(function(e,t){var n=[];for(var a in e.projects)n.push(Object(E.a)({},e.projects[a],{id:a}));return{id:t.id,start:t.start,end:t.end,projectList:n}},function(e){return{hideModal:function(){return e({type:"HIDE_MODAL"})},addEvent:function(t,n,a,r){return e(function(e,t,n,a){return{type:"ADD_EVENT",id:e,project:t,start:n,end:a}}(t,n,a,r))}}})(function(e){var t=e.id,n=e.start,a=e.end,o=e.projectList,c=e.hideModal,i=e.addEvent;return r.a.createElement(K.a,{isShown:!0,onCloseComplete:function(){return c()}},r.a.createElement(q.a,null,r.a.createElement(q.a.Body,{height:240},o.map(function(e){return r.a.createElement(q.a.Row,{key:e.id,isSelectable:!0,onSelect:function(){i(t,e.id,n,a),c()}},r.a.createElement(q.a.TextCell,null,e.title))}))))}),Z=n(584),$=Object(i.b)(function(e,t){var n=[];for(var a in e.projects)n.push(Object(E.a)({},e.projects[a],{id:a}));return{id:t.id,selectedEvent:e.events[t.id],projectList:n}},function(e){return{hideModal:function(){return e({type:"HIDE_MODAL"})},updateEvent:function(t,n,a,r){return e(m(t,n,a,r))},deleteEvent:function(t){return e(function(e){return{type:"DELETE_EVENT",id:e}}(t))}}})(function(e){var t=e.id,n=e.selectedEvent,a=e.projectList,o=e.updateEvent,c=e.hideModal,i=e.deleteEvent;if(!n)return r.a.createElement("div",{className:"info"});var l=n.project;return r.a.createElement(K.a,{isShown:null!==n,title:"Edit",onCloseComplete:function(){o(t,l,n.start,n.end),c()}},r.a.createElement(Z.a,{onChange:function(e){l=e.target.value},defaultValue:l},a.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.title)})),r.a.createElement("p",null,t),r.a.createElement(D.a,null,"Actions"),r.a.createElement(R.a,{intent:"danger",appearance:"primary",onClick:function(){i(t),c()}},"Delete"))}),ee=n(583),te={NEW_EVENT_SELECT:Q,SELECT_EVENT:$,NEW_PROJECT:Object(i.b)(function(e,t){return{}},function(e){return{addProject:function(t){return e((n=t,{type:"ADD_PROJECT",id:Object(p.v4)(),title:n}));var n},hideModal:function(){return e({type:"HIDE_MODAL"})}}})(function(e){var t=e.addProject,n=e.hideModal,a="";return r.a.createElement(K.a,{isShown:!0,title:"Add Project",onCloseComplete:function(){console.log(a,""),""!==a&&t(a,""),n()}},r.a.createElement(ee.a,{name:"text-input-name",placeholder:"Text input placeholder...",onChange:function(e){a=e.target.value}}))})},ne=Object(i.b)(function(e){return e.modal})(function(e){var t=e.modalType,n=e.modalProps;if(!t)return r.a.createElement("span",null);var a=te[t];return r.a.createElement(a,n)}),ae=(n(674),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,{display:"flex"},r.a.createElement(G,null),r.a.createElement(W,null),r.a.createElement(ne,null)))}),re=n(42),oe={0:{title:"",allDay:!0,start:new Date,end:new Date}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EVENT":case"UPDATE_EVENT":return Object(E.a)({},e,Object(re.a)({},t.id,{project:t.project,start:t.start,end:t.end}));case"COPY_DAY":return Object.keys(e).reduce(function(n,a){var r,o=new Date(e[a].start),c=new Date(e[a].end),i=new Date(t.from),l=new Date(t.to);return J(o,i)?Object(E.a)({},n,(r={},Object(re.a)(r,a,e[a]),Object(re.a)(r,Object(p.v4)(),Object(E.a)({},e[a],{start:new Date(l.getFullYear(),l.getMonth(),l.getDate(),o.getHours()),end:new Date(l.getFullYear(),l.getMonth(),l.getDate(),c.getHours())})),r)):Object(E.a)({},n,Object(re.a)({},a,e[a]))},{});case"DELETE_EVENT":return Object.keys(e).reduce(function(n,a){return a!==t.id?Object(E.a)({},n,Object(re.a)({},a,e[a])):n},{});default:return e}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PROJECT":return Object(E.a)({},e,Object(re.a)({},t.id,{title:t.title,color:"#425A70"}));case"UPDATE_COLOR":return Object(E.a)({},e,Object(re.a)({},t.id,Object(E.a)({},e[t.id],{color:t.color})));case"UPDATE_NAME":return Object(E.a)({},e,Object(re.a)({},t.id,Object(E.a)({},e[t.id],{title:t.title})));case"DELETE_PROJECT":return Object.keys(e).reduce(function(n,a){return a!==t.id?Object(E.a)({},n,Object(re.a)({},a,e[a])):n},{});default:return e}},le={modelType:null,modelProps:{}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_MODAL":return{modalType:t.modalType,modalProps:t.modalProps};case"HIDE_MODAL":return le;default:return e}},de=Object(c.b)({events:ce,projects:ie,modal:ue}),se=(n(676),function(){try{var e=localStorage.getItem("state");if(null===e)return;var t=JSON.parse(e);return t.events=Object.keys(t.events).reduce(function(e,n){return Object(E.a)({},e,Object(re.a)({},n,Object(E.a)({},t.events[n],{start:new Date(t.events[n].start),end:new Date(t.events[n].end)})))},{}),t}catch(n){return}}()),Ee=Object(c.c)(de,se,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Ee.subscribe(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}(Ee.getState())}),Object(o.render)(r.a.createElement(i.a,{store:Ee},r.a.createElement(l.a,null,r.a.createElement(ae,null))),document.getElementById("root"))}},[[305,2,1]]]);
//# sourceMappingURL=main.79c7b90b.chunk.js.map